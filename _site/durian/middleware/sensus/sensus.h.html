<!DOCTYPE html>
<html>
<head>
  <title>sensus.h</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "C:\\cygwin64\\home\\htao\\harmony-middleware-doc\\\\middleware\\sensus\\sensus.h";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h2">
        <a href="#object-for-sensus-client-can-be-created-as-below-sensus-clientsimpleweb-http-sensusclient-host-path-user-pass-customheaders-printerid-cardtype-description">Object for sensus client can be created as below
sensus::clientSimpleWeb::HTTP sensusClient(host, path, user, pass, customHeaders, printerId, cardType);
Description :-</a>
      </div>

      <div class="heading h2">
        <a href="#history-of-the-file-date-description-07062016-file-created-total-loc-560-excecutable-lines-of-code-237-comments-323">History of the File
Date                                        Description
07/06/2016                                  File Created
Total LOC = 560 / Excecutable lines of code = 237 / Comments = 323</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
    
      <tr>
        <td class="docs">
          <div class="dox">
<div class="summary">
<p>*************************** File Header ******************************
File Name       : sensus.h
Class           : sensus::client
Description     : This is a Client module</p>
<ol>
<li>Receives client object and JSON input data</li>
<li>Creates Context from JSON</li>
<li>Creates SOAP message using Context and Templates</li>
<li>POST the created SOAP message</li>
<li>Receives the SOAP Response and update it to Context</li>
<li>Can perform above operations for &quot;ProcessCageCardAndCheckIn&quot; -&gt; function ProcessCageCardAndCheckIn(Json)
and &quot;ProcessCageCardXml&quot;        -&gt; function ProcessCageCardXml(Json)</li>
</ol>
<p>Example :-</p>
<hr>
<div class="pilwrap" id="object-for-sensus-client-can-be-created-as-below-sensus-clientsimpleweb-http-sensusclient-host-path-user-pass-customheaders-printerid-cardtype-description">
  <h2>
    <a href="#object-for-sensus-client-can-be-created-as-below-sensus-clientsimpleweb-http-sensusclient-host-path-user-pass-customheaders-printerid-cardtype-description" name="object-for-sensus-client-can-be-created-as-below-sensus-clientsimpleweb-http-sensusclient-host-path-user-pass-customheaders-printerid-cardtype-description" class="pilcrow"></a>
Object for sensus client can be created as below
sensus::client<a href="SimpleWeb::HTTP.html">SimpleWeb::HTTP</a> sensusClient(host, path, user, pass, customHeaders, printerId, cardType);
Description :-
  </h2>
</div>
<p>All Input parameter are String except customHeaders, which is std::map&lt;string, string&gt;
Mandatory parameter : host, path, user, pass, customHeaders
Optional parameter  : printerId, cardType</p>
<hr>
<div class="pilwrap" id="history-of-the-file-date-description-07062016-file-created-total-loc-560-excecutable-lines-of-code-237-comments-323">
  <h2>
    <a href="#history-of-the-file-date-description-07062016-file-created-total-loc-560-excecutable-lines-of-code-237-comments-323" name="history-of-the-file-date-description-07062016-file-created-total-loc-560-excecutable-lines-of-code-237-comments-323" class="pilcrow"></a>
History of the File
Date                                        Description
07/06/2016                                  File Created
Total LOC = 560 / Excecutable lines of code = 237 / Comments = 323
  </h2>
</div>
<p>****************************** End of File Header **********************</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-30" id="line-30" data-line="30"></a>  <span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> once</span>
<a class="line-num" href="#line-31" id="line-31" data-line="31"></a>  
<a class="line-num" href="#line-32" id="line-32" data-line="32"></a>  <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"durian.h"</span></span>
<a class="line-num" href="#line-33" id="line-33" data-line="33"></a>  <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"rapidxml/rapidxml.hpp"</span></span>
<a class="line-num" href="#line-34" id="line-34" data-line="34"></a>  <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;boost/foreach.hpp&gt;</span>  </span>
<a class="line-num" href="#line-35" id="line-35" data-line="35"></a>  <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;boost/property_tree/ptree.hpp&gt;</span>  </span>
<a class="line-num" href="#line-36" id="line-36" data-line="36"></a>  <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;boost/property_tree/json_parser.hpp&gt;</span></span>
<a class="line-num" href="#line-37" id="line-37" data-line="37"></a>  
<a class="line-num" href="#line-38" id="line-38" data-line="38"></a>  <span class="hljs-keyword">using</span> boost::property_tree::ptree;
<a class="line-num" href="#line-39" id="line-39" data-line="39"></a>  <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<a class="line-num" href="#line-40" id="line-40" data-line="40"></a>  <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> durian;
<a class="line-num" href="#line-41" id="line-41" data-line="41"></a>  <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> rapidxml;
<a class="line-num" href="#line-42" id="line-42" data-line="42"></a>  <span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> json11;
<a class="line-num" href="#line-43" id="line-43" data-line="43"></a>  
<a class="line-num" href="#line-44" id="line-44" data-line="44"></a>  <span class="hljs-keyword">namespace</span> sensus {
<a class="line-num" href="#line-45" id="line-45" data-line="45"></a>  
<a class="line-num" href="#line-46" id="line-46" data-line="46"></a>  	<span class="hljs-comment">/*********** Global Constant Variables ***********************/</span>
<a class="line-num" href="#line-47" id="line-47" data-line="47"></a>  	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">MODULE</span><span class="hljs-params">(<span class="hljs-string">"sensus 0.1.0"</span>)</span></span>;
<a class="line-num" href="#line-48" id="line-48" data-line="48"></a>  	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">SENSUS_NAMESPACE</span><span class="hljs-params">(<span class="hljs-string">"http://tempuri.org/"</span>)</span></span>;
<a class="line-num" href="#line-49" id="line-49" data-line="49"></a>  	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">TEMPLATE_ROOT</span><span class="hljs-params">(<span class="hljs-string">"tpl/sensus/root"</span>)</span></span>;
<a class="line-num" href="#line-50" id="line-50" data-line="50"></a>  	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">TEMPLATE_CAGECARDREPOSITORYANDCHECKIN</span><span class="hljs-params">(<span class="hljs-string">"tpl/sensus/CageCardRepositoryAndCheckIn"</span>)</span></span>;
<a class="line-num" href="#line-51" id="line-51" data-line="51"></a>  	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">TEMPLATE_CAGECARDREPOSITORYXML</span><span class="hljs-params">(<span class="hljs-string">"tpl/sensus/CageCardRepositoryXml"</span>)</span></span>;
<a class="line-num" href="#line-52" id="line-52" data-line="52"></a>  	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">TEMPLATE_PROCESSCAGECARDANDCHECKIN</span><span class="hljs-params">(<span class="hljs-string">"tpl/sensus/ProcessCageCardAndCheckIn"</span>)</span></span>;
<a class="line-num" href="#line-53" id="line-53" data-line="53"></a>  	<span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">TEMPLATE_PROCESSCAGECARDXML</span><span class="hljs-params">(<span class="hljs-string">"tpl/sensus/ProcessCageCardXml"</span>)</span></span>;
<a class="line-num" href="#line-54" id="line-54" data-line="54"></a>  
<a class="line-num" href="#line-55" id="line-55" data-line="55"></a>  	<span class="hljs-comment">/************ Global typedef section ***********************/</span>
<a class="line-num" href="#line-56" id="line-56" data-line="56"></a>  	<span class="hljs-keyword">typedef</span> durian::generator&lt;durian::XmlElement::Body&gt; XMLBODY;
<a class="line-num" href="#line-57" id="line-57" data-line="57"></a>  
<a class="line-num" href="#line-58" id="line-58" data-line="58"></a>  	<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> socketType&gt;
<a class="line-num" href="#line-59" id="line-59" data-line="59"></a>  	<span class="hljs-keyword">class</span> client : <span class="hljs-keyword">public</span> durian::client &lt; socketType &gt; {
<a class="line-num" href="#line-60" id="line-60" data-line="60"></a>  	<span class="hljs-keyword">public</span>:
<a class="line-num" href="#line-61" id="line-61" data-line="61"></a>  		<span class="hljs-comment">/********************* public Variable Section******************************/</span>
<a class="line-num" href="#line-62" id="line-62" data-line="62"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Items to be maintained in Context</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-63" id="line-63" data-line="63"></a>  		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; additionalWhitelist;
<a class="line-num" href="#line-64" id="line-64" data-line="64"></a>  
<a class="line-num" href="#line-65" id="line-65" data-line="65"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : Constructor
Function Scope  : public
Input Parameter : const char* _host                        -&gt; Host Information
const char* _servicePath                 -&gt; Path
const char* _user                        -&gt; User Id, Not applicable for Sensus
const char* _password                    -&gt; Password, Not applicable for Sensus
std::map&lt;string, string&gt;&amp; _customHeaders -&gt; Header map for base class
std::string _printerID                   -&gt; RFID, Printer ID
std::string _cardType                    -&gt; Card Type (&quot;Breed&quot;/&quot;Order&quot;/&quot;Manual&quot;)
Return Value    : None
Description     : Call base call constructur with parameters and initialize self variables.
****************************** End of Function Header **********************</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-79" id="line-79" data-line="79"></a>  		client(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-number">_</span>host, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-number">_</span>servicePath,
<a class="line-num" href="#line-80" id="line-80" data-line="80"></a>  			<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-number">_u</span>ser,	<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-number">_</span>password,
<a class="line-num" href="#line-81" id="line-81" data-line="81"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;&amp; <span class="hljs-number">_</span>customHeaders,
<a class="line-num" href="#line-82" id="line-82" data-line="82"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-number">_</span>printerID = <span class="hljs-string">""</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> <span class="hljs-number">_</span>cardType = <span class="hljs-string">""</span>) : durian::client&lt;socketType&gt;(<span class="hljs-number">_</span>host, <span class="hljs-number">_</span>servicePath, <span class="hljs-number">_u</span>ser, <span class="hljs-number">_</span>password, <span class="hljs-number">_</span>customHeaders),
<a class="line-num" href="#line-83" id="line-83" data-line="83"></a>  			                                                 printerId(<span class="hljs-number">_</span>printerID), 
<a class="line-num" href="#line-84" id="line-84" data-line="84"></a>  															 cardType(<span class="hljs-number">_</span>cardType),
<a class="line-num" href="#line-85" id="line-85" data-line="85"></a>  															 quantity(<span class="hljs-string">"1"</span>),
<a class="line-num" href="#line-86" id="line-86" data-line="86"></a>  															 checkInDate(currentDate()) {
<a class="line-num" href="#line-87" id="line-87" data-line="87"></a>  			initializeAdditionalWhitelist();
<a class="line-num" href="#line-88" id="line-88" data-line="88"></a>  			initializeCageCardRepositoryMandatory_map();
<a class="line-num" href="#line-89" id="line-89" data-line="89"></a>  		}
<a class="line-num" href="#line-90" id="line-90" data-line="90"></a>  
<a class="line-num" href="#line-91" id="line-91" data-line="91"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : ProcessCageCardAndCheckIn
Function Scope  : public
Input Parameter : Json j                           -&gt; Input data, in JSON format
Return Value    : shared_ptr<a href="Plustache::Context.html">Plustache::Context</a>   -&gt; Context which contans essential details
Description     : This method will be called from Middleware module ie for sensus its, &quot;rfidProcessCageCardAndCheckIn.h&quot;</p>
<ol>
<li>Receives JSON data as input</li>
<li>Calls private method with Context, JSON and Templates to perform SOAP Message creation to POST and receive response</li>
<li>Extract the exact result log and stored in Context.</li>
<li>Returns updated Context
Note : This function needs to be called for RFID ie, Store and print
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-104" id="line-104" data-line="104"></a>  		<span class="hljs-built_in">shared_ptr</span>&lt;Plustache::Context&gt; ProcessCageCardAndCheckIn(Json j) {
<a class="line-num" href="#line-105" id="line-105" data-line="105"></a>  			<span class="hljs-built_in">string</span> response = processCageCardAndCheckIn(<span class="hljs-keyword">this</span>-&gt;ctx, TEMPLATE_CAGECARDREPOSITORYANDCHECKIN, TEMPLATE_PROCESSCAGECARDANDCHECKIN, TEMPLATE_ROOT, j);
<a class="line-num" href="#line-106" id="line-106" data-line="106"></a>  			<span class="hljs-built_in">string</span> core_response = getProcessCageCardAndCheckInResult(response);
<a class="line-num" href="#line-107" id="line-107" data-line="107"></a>  			<span class="hljs-keyword">return</span> ctx;
<a class="line-num" href="#line-108" id="line-108" data-line="108"></a>  		}
<a class="line-num" href="#line-109" id="line-109" data-line="109"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : ProcessCageCardXml
Function Scope  : public
Input Parameter : Json j                           -&gt; Input data, in JSON format
Return Value    : shared_ptr<a href="Plustache::Context.html">Plustache::Context</a>   -&gt; Context which contans essential details
Description     : his method will be called from Middleware module ie for sensus its, &quot;processCageCardXml.h&quot;</p>
<ol>
<li>Receives JSON data as input</li>
<li>Calls private method with Context, JSON and Templates to perform SOAP Message creation to POST and receive response</li>
<li>Extract the exact result log and stored in Context.</li>
<li>Returns updated Context
Note : This function needs to be called for Non RFID ie, only Store NOT print
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-122" id="line-122" data-line="122"></a>  		<span class="hljs-built_in">shared_ptr</span>&lt;Plustache::Context&gt; ProcessCageCardXml(Json j) {
<a class="line-num" href="#line-123" id="line-123" data-line="123"></a>  			<span class="hljs-built_in">string</span> response = processCageCardXml(<span class="hljs-keyword">this</span>-&gt;ctx, TEMPLATE_CAGECARDREPOSITORYXML, TEMPLATE_PROCESSCAGECARDXML, TEMPLATE_ROOT, j);
<a class="line-num" href="#line-124" id="line-124" data-line="124"></a>  			<span class="hljs-built_in">string</span> core_response = getProcessCageCardXmlResult(response);
<a class="line-num" href="#line-125" id="line-125" data-line="125"></a>  			<span class="hljs-keyword">return</span> ctx;
<a class="line-num" href="#line-126" id="line-126" data-line="126"></a>  		}
<a class="line-num" href="#line-127" id="line-127" data-line="127"></a>  	<span class="hljs-keyword">private</span>:
<a class="line-num" href="#line-128" id="line-128" data-line="128"></a>  		<span class="hljs-comment">/********************* Private Variable Section *****************************/</span>
<a class="line-num" href="#line-129" id="line-129" data-line="129"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>All keys from Json will be stored in this variable</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-130" id="line-130" data-line="130"></a>  		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; CageCardRepositoryList_vec;
<a class="line-num" href="#line-131" id="line-131" data-line="131"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>Mandatory Fields and default values</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-132" id="line-132" data-line="132"></a>  		<span class="hljs-built_in">std</span>::<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; CageCardRepositoryMandatory_map;
<a class="line-num" href="#line-133" id="line-133" data-line="133"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>Input values apart from Json data</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-134" id="line-134" data-line="134"></a>  		<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> quantity;
<a class="line-num" href="#line-135" id="line-135" data-line="135"></a>  		<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> checkInDate;
<a class="line-num" href="#line-136" id="line-136" data-line="136"></a>  		<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> printerId;
<a class="line-num" href="#line-137" id="line-137" data-line="137"></a>  		<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> cardType;
<a class="line-num" href="#line-138" id="line-138" data-line="138"></a>  
<a class="line-num" href="#line-139" id="line-139" data-line="139"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : processCageCardAndCheckIn
Function Scope  : private
Input Parameter : shared_ptr<a href="Plustache::Context.html">Plustache::Context</a> ctx            -&gt; Context
const string cageCardRepositoryTpl            -&gt; CageCardRepository Template path
const string processCageCardAndCheckInTpl     -&gt; ProcessCageCardAndCheckIn Template path
const string rootTpl                          -&gt; Root Template Path
Json j                                        -&gt; Input data, in JSON format
Return Value    : string                                        -&gt; Raw Response message is returned in String format
Description     : Create SOAP Message and Post the same and collect the response</p>
<ol>
<li>Receives JSON data and Templates as input</li>
<li>Calls private method with Context, JSON and Templates to perform SOAP Message creation to POST and receive response</li>
<li>Validate the response using BarCode field which is used before Posting the request.</li>
<li>Returns raw response
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-155" id="line-155" data-line="155"></a>  		<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">processCageCardAndCheckIn</span><span class="hljs-params">(<span class="hljs-built_in">shared_ptr</span>&lt;Plustache::Context&gt; ctx, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> cageCardRepositoryTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> processCageCardAndCheckInTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> rootTpl, Json j)</span> </span>{
<a class="line-num" href="#line-156" id="line-156" data-line="156"></a>  
<a class="line-num" href="#line-157" id="line-157" data-line="157"></a>  			<span class="hljs-keyword">auto</span> ProcessCageCardAndCheckInXml = prepareProcessCageCard_Soap(ctx, cageCardRepositoryTpl, processCageCardAndCheckInTpl, rootTpl, j);
<a class="line-num" href="#line-158" id="line-158" data-line="158"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; customHeaders = { { <span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/xml"</span> }, { <span class="hljs-string">"SOAPAction"</span>, SENSUS_NAMESPACE + <span class="hljs-string">"ProcessCageCardAndCheckIn"</span> } };
<a class="line-num" href="#line-159" id="line-159" data-line="159"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Stored to verify the response</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-160" id="line-160" data-line="160"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> barcode = j[<span class="hljs-string">"BarCode"</span>].string_value();
<a class="line-num" href="#line-161" id="line-161" data-line="161"></a>  			
<a class="line-num" href="#line-162" id="line-162" data-line="162"></a>  			<span class="hljs-keyword">auto</span> future = apiClient-&gt;methodPromise[<span class="hljs-string">"POST"</span>];
<a class="line-num" href="#line-163" id="line-163" data-line="163"></a>  			<span class="hljs-keyword">auto</span> f2 = future(servicePath, *ProcessCageCardAndCheckInXml, customHeaders)
<a class="line-num" href="#line-164" id="line-164" data-line="164"></a>  				.then(processCageCardAndCheckInResponse())
<a class="line-num" href="#line-165" id="line-165" data-line="165"></a>  				.then(validateprocessCageCardAndCheckInResponse(barcode.c_str()));
<a class="line-num" href="#line-166" id="line-166" data-line="166"></a>  			<span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>(f2.get());
<a class="line-num" href="#line-167" id="line-167" data-line="167"></a>  		}
<a class="line-num" href="#line-168" id="line-168" data-line="168"></a>  
<a class="line-num" href="#line-169" id="line-169" data-line="169"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : ProcessCageCardXml
Function Scope  : private
Input Parameter : shared_ptr<a href="Plustache::Context.html">Plustache::Context</a> ctx            -&gt; Context
const string cageCardRepositoryTpl            -&gt; CageCardRepository Template path
const string ProcessCageCardXmlTpl            -&gt; ProcessCageCardXml Template path
const string rootTpl                          -&gt; Root Template Path
Json j                                        -&gt; Input data, in JSON format
Return Value    : string                                        -&gt; Raw Response message is returned in String format
Description     : Create SOAP Message and Post the same and collect the response</p>
<ol>
<li>Receives JSON data and Templates as input</li>
<li>Calls private method with Context, JSON and Templates to perform SOAP Message creation to POST and receive response</li>
<li>Validate the response using BarCode field which is used before Posting the request.</li>
<li>Returns raw response
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-185" id="line-185" data-line="185"></a>  		<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">processCageCardXml</span><span class="hljs-params">(<span class="hljs-built_in">shared_ptr</span>&lt;Plustache::Context&gt; ctx, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> cageCardRepositoryTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> ProcessCageCardXmlTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> rootTpl, Json j)</span> </span>{
<a class="line-num" href="#line-186" id="line-186" data-line="186"></a>  
<a class="line-num" href="#line-187" id="line-187" data-line="187"></a>  			<span class="hljs-keyword">auto</span> ProcessCageCardXml = prepareProcessCageCard_Soap(ctx, cageCardRepositoryTpl, ProcessCageCardXmlTpl, rootTpl, j);
<a class="line-num" href="#line-188" id="line-188" data-line="188"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; customHeaders = { { <span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/xml"</span> }, { <span class="hljs-string">"SOAPAction"</span>, SENSUS_NAMESPACE + <span class="hljs-string">"ProcessCageCardXml"</span> } };
<a class="line-num" href="#line-189" id="line-189" data-line="189"></a>  
<a class="line-num" href="#line-190" id="line-190" data-line="190"></a>  			<span class="hljs-keyword">auto</span> future = apiClient-&gt;methodPromise[<span class="hljs-string">"POST"</span>];
<a class="line-num" href="#line-191" id="line-191" data-line="191"></a>  			<span class="hljs-keyword">auto</span> f2 = future(servicePath, *ProcessCageCardXml, customHeaders)
<a class="line-num" href="#line-192" id="line-192" data-line="192"></a>  				.then(processCageCardXmlResponse())
<a class="line-num" href="#line-193" id="line-193" data-line="193"></a>  				.then(validateprocessCageCardXmlResponse());
<a class="line-num" href="#line-194" id="line-194" data-line="194"></a>  			<span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>(f2.get());
<a class="line-num" href="#line-195" id="line-195" data-line="195"></a>  		}
<a class="line-num" href="#line-196" id="line-196" data-line="196"></a>  
<a class="line-num" href="#line-197" id="line-197" data-line="197"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : prepareProcessCageCard_Soap
Function Scope  : private
Input Parameter : shared_ptr<a href="Plustache::Context.html">Plustache::Context</a> ctx          -&gt; Context
const string cageCardRepositoryTpl          -&gt; CageCardRepository Template path
const string processCageCardTpl             -&gt; ProcessCageCard Template path
const string rootTpl                        -&gt; Root Template Path
Json j                                      -&gt; Input data, in JSON format
Return Value    : string                                      -&gt; SOAP Message, Ready to POST
Description     : Create SOAP Message to POST</p>
<ol>
<li>Receives JSON data and Templates as input</li>
<li>Convert JSON to CageCardRepository Context</li>
<li>Parse CageCardRepository Context to CageCardRepository XML</li>
<li>Parse CageCardRepository XML to ProcessCageCard XML</li>
<li>Validate ProcessCageCard XML</li>
<li>Returns Final ProcessCageCard XML, SOAP which is ready to POST</li>
</ol>
<p>Note : This function can be used by both &quot;ProcessCageCardAndCheckIn&quot; and &quot;ProcessCageCardXml&quot;
It converts Json data to a meaning full SOAP message with provided templates
****************************** End of Function Header **********************</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-218" id="line-218" data-line="218"></a>  		<span class="hljs-built_in">shared_ptr</span>&lt;<span class="hljs-built_in">string</span>&gt; prepareProcessCageCard_Soap(<span class="hljs-built_in">shared_ptr</span>&lt;Plustache::Context&gt; ctx, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> cageCardRepositoryTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> processCageCardTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> rootTpl, Json j) {
<a class="line-num" href="#line-219" id="line-219" data-line="219"></a>  
<a class="line-num" href="#line-220" id="line-220" data-line="220"></a>  			<span class="hljs-keyword">auto</span> CageCardRepositoryctx = json2ctx(j);
<a class="line-num" href="#line-221" id="line-221" data-line="221"></a>  
<a class="line-num" href="#line-222" id="line-222" data-line="222"></a>  			<span class="hljs-keyword">auto</span> CageCardRepository = ctxCageCardRepository(CageCardRepositoryctx, cageCardRepositoryTpl);
<a class="line-num" href="#line-223" id="line-223" data-line="223"></a>  			ctx-&gt;add(<span class="hljs-string">"CageCardRepositoryXml:"</span>, *CageCardRepository);
<a class="line-num" href="#line-224" id="line-224" data-line="224"></a>  			durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"CageCardRepositoryXml:"</span> + *CageCardRepository).c_str());
<a class="line-num" href="#line-225" id="line-225" data-line="225"></a>  
<a class="line-num" href="#line-226" id="line-226" data-line="226"></a>  			<span class="hljs-keyword">auto</span> ProcessCageCardSoap = ctxProcessCageCar(processCageCardTpl, rootTpl, *CageCardRepository);
<a class="line-num" href="#line-227" id="line-227" data-line="227"></a>  			ctx-&gt;add(<span class="hljs-string">"ProcessCageCardSoap:"</span>, *ProcessCageCardSoap);
<a class="line-num" href="#line-228" id="line-228" data-line="228"></a>  			durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"ProcessCageCardSoap:"</span> + *ProcessCageCardSoap).c_str());
<a class="line-num" href="#line-229" id="line-229" data-line="229"></a>  
<a class="line-num" href="#line-230" id="line-230" data-line="230"></a>  			<span class="hljs-keyword">auto</span> finalProcessCageCardSoap = validateProcessCageCard(*ProcessCageCardSoap);
<a class="line-num" href="#line-231" id="line-231" data-line="231"></a>  			ctx-&gt;add(<span class="hljs-string">"finalProcessCageCardSoap:"</span>, *finalProcessCageCardSoap);
<a class="line-num" href="#line-232" id="line-232" data-line="232"></a>  			durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"finalProcessCageCardSoap:"</span> + *finalProcessCageCardSoap).c_str());
<a class="line-num" href="#line-233" id="line-233" data-line="233"></a>  
<a class="line-num" href="#line-234" id="line-234" data-line="234"></a>  			<span class="hljs-keyword">return</span> finalProcessCageCardSoap;
<a class="line-num" href="#line-235" id="line-235" data-line="235"></a>  		}
<a class="line-num" href="#line-236" id="line-236" data-line="236"></a>  
<a class="line-num" href="#line-237" id="line-237" data-line="237"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : json2ctx
Function Scope  : private
Input Parameter : Json j                             -&gt; Input data, in JSON format
Return Value    : shared_ptr<a href="Plustache::Context.html">Plustache::Context</a>     -&gt; Local Context which contains JSON data
Description     : Convert JSON to Context</p>
<ol>
<li>Receives JSON input data</li>
<li>Clears self variable which will store list of all keys from input JSON</li>
<li>Pharse the JSON and update all the fields in a new Local Context</li>
<li>Stores each key to vector &quot;CageCardRepositoryList_vec&quot;, which will be used to check for empty value and update final xml</li>
<li>Return Newly created Local Context
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-250" id="line-250" data-line="250"></a>  		<span class="hljs-built_in">shared_ptr</span>&lt;Plustache::Context&gt; json2ctx(Json j) {
<a class="line-num" href="#line-251" id="line-251" data-line="251"></a>  			CageCardRepositoryList_vec.clear();
<a class="line-num" href="#line-252" id="line-252" data-line="252"></a>  			<span class="hljs-keyword">auto</span> localctx = make_shared&lt;Plustache::Context&gt;();
<a class="line-num" href="#line-253" id="line-253" data-line="253"></a>  			<span class="hljs-keyword">auto</span> jobj = j.object_items();
<a class="line-num" href="#line-254" id="line-254" data-line="254"></a>  			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> itt : jobj) {
<a class="line-num" href="#line-255" id="line-255" data-line="255"></a>  				CageCardRepositoryList_vec.push_back(itt.first);
<a class="line-num" href="#line-256" id="line-256" data-line="256"></a>  				localctx-&gt;add(itt.first, itt.second.string_value());
<a class="line-num" href="#line-257" id="line-257" data-line="257"></a>  			}
<a class="line-num" href="#line-258" id="line-258" data-line="258"></a>  			<span class="hljs-keyword">return</span> localctx;
<a class="line-num" href="#line-259" id="line-259" data-line="259"></a>  		}
<a class="line-num" href="#line-260" id="line-260" data-line="260"></a>  
<a class="line-num" href="#line-261" id="line-261" data-line="261"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : ctxCageCardRepository
Function Scope  : private
Input Parameter : shared_ptr<a href="Plustache::Context.html">Plustache::Context</a> CageCardRepositoryctx  -&gt; Local Context which has all the fields from JSON
const string CageCardRepositorytpl                    -&gt; CageCardRepository Template
Return Value    : shared_ptr<string>                                    -&gt; XML String, after Context is parsed with Template
Description     : CageCardRepository template is parsed with input Context and xml is returned</p>
<ol>
<li>Receives Context input data and CareCardRepository Template</li>
<li>Parse the Template using Context</li>
<li>After parsing, xml is received in string format</li>
<li>Return the xml which has only CageCardRepository
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-274" id="line-274" data-line="274"></a>  		<span class="hljs-built_in">shared_ptr</span>&lt;<span class="hljs-built_in">string</span>&gt; ctxCageCardRepository(<span class="hljs-built_in">shared_ptr</span>&lt;Plustache::Context&gt; CageCardRepositoryctx, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> CageCardRepositorytpl) {
<a class="line-num" href="#line-275" id="line-275" data-line="275"></a>  			XMLBODY body;
<a class="line-num" href="#line-276" id="line-276" data-line="276"></a>  			<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">tplPath</span><span class="hljs-params">(CageCardRepositorytpl)</span></span>;
<a class="line-num" href="#line-277" id="line-277" data-line="277"></a>  			<span class="hljs-keyword">auto</span> xml = body.compile(CageCardRepositoryctx, tplPath);
<a class="line-num" href="#line-278" id="line-278" data-line="278"></a>  			<span class="hljs-keyword">return</span> xml;
<a class="line-num" href="#line-279" id="line-279" data-line="279"></a>  		}
<a class="line-num" href="#line-280" id="line-280" data-line="280"></a>  
<a class="line-num" href="#line-281" id="line-281" data-line="281"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : ctxProcessCageCar
Function Scope  : private
Input Parameter : const string processCageCardTpl           -&gt; ProcessCageCard Template
const string rootTpl                      -&gt; Root Template
const string CageCardRepository           -&gt; XML of CageCardRepository
Return Value    : shared_ptr<string>                        -&gt; SOAP message after parsing all the Templates
Description     : CageCardRepository XML is parsed with ProcessCageCardAndCheckIn and Root and final XML is generated</p>
<ol>
<li>Convert the CageCardRepository XML to Local Context</li>
<li>Parse the Context to all the template untill root.</li>
<li>Return XML which is ready to POST
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-294" id="line-294" data-line="294"></a>  		<span class="hljs-built_in">shared_ptr</span>&lt;<span class="hljs-built_in">string</span>&gt; ctxProcessCageCar(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> processCageCardTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> rootTpl, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> CageCardRepository) {
<a class="line-num" href="#line-295" id="line-295" data-line="295"></a>  			<span class="hljs-keyword">auto</span> localCtx = make_shared&lt;Plustache::Context&gt;();
<a class="line-num" href="#line-296" id="line-296" data-line="296"></a>  			localCtx-&gt;add(<span class="hljs-string">"CageCardRepository"</span>, CageCardRepository);
<a class="line-num" href="#line-297" id="line-297" data-line="297"></a>  			<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;generator.render(localCtx, processCageCardTpl, rootTpl);
<a class="line-num" href="#line-298" id="line-298" data-line="298"></a>  		}
<a class="line-num" href="#line-299" id="line-299" data-line="299"></a>  
<a class="line-num" href="#line-300" id="line-300" data-line="300"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : validateXml
Function Scope  : Private
Input Parameter : const string ProcessCageCardSoap -&gt; SOAP Message ready to POST
Return Value    : shared_ptr<string>               -&gt; SOAP Message, Updated if any empty value is found
Description     : Validate the input xml by checking empty values for any field</p>
<ol>
<li>List of fields in CageCardRepository is in &quot;CageCardRepositoryList_vec&quot; and
mandatory fields with value is available in &quot;CageCardRepositoryMandatory_map&quot;</li>
<li>Take each key from list and check against SOAP Message for empty value</li>
<li>If Empty value is found then, then check for default value map</li>
<li>If default value is available, then update the field with default value
Example :-
From : <Department></Department>
To   : <Department>xxxx</Department></li>
<li>If default value is not available still value is empty means
update the tag(Fields) in SOAP Message as below
Example :-
From : <Department></Department>
To   : <Department /></li>
<li>Repeat steps 2 to 5 for all the keys.</li>
<li>Return updated SOAP Message.
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-323" id="line-323" data-line="323"></a>  		<span class="hljs-built_in">shared_ptr</span>&lt;<span class="hljs-built_in">string</span>&gt; validateProcessCageCard(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> ProcessCageCardSoap) {
<a class="line-num" href="#line-324" id="line-324" data-line="324"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>, <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt;::const_iterator it;
<a class="line-num" href="#line-325" id="line-325" data-line="325"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> rep;
<a class="line-num" href="#line-326" id="line-326" data-line="326"></a>  			<span class="hljs-keyword">auto</span> validatexmlstr = make_shared&lt;<span class="hljs-built_in">string</span>&gt;(ProcessCageCardSoap);
<a class="line-num" href="#line-327" id="line-327" data-line="327"></a>  			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> key : CageCardRepositoryList_vec) {
<a class="line-num" href="#line-328" id="line-328" data-line="328"></a>  				<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> findstr = (<span class="hljs-string">"&lt;"</span> + key + <span class="hljs-string">"&gt;&lt;/"</span> + key + <span class="hljs-string">"&gt;"</span>);
<a class="line-num" href="#line-329" id="line-329" data-line="329"></a>  				<span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> position = (*validatexmlstr).find(findstr);
<a class="line-num" href="#line-330" id="line-330" data-line="330"></a>  				<span class="hljs-keyword">if</span> (position != <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>::npos) {	
<a class="line-num" href="#line-331" id="line-331" data-line="331"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>If empty value found then update the value</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-332" id="line-332" data-line="332"></a>  					it = CageCardRepositoryMandatory_map.find(key);
<a class="line-num" href="#line-333" id="line-333" data-line="333"></a>  					<span class="hljs-keyword">if</span> (it != CageCardRepositoryMandatory_map.end()) {  
<a class="line-num" href="#line-334" id="line-334" data-line="334"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>Default value available</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-335" id="line-335" data-line="335"></a>  						<span class="hljs-keyword">if</span> (it-&gt;second.size() &lt; <span class="hljs-number">1</span>) { 
<a class="line-num" href="#line-336" id="line-336" data-line="336"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>Field is empty but Mandatory</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-337" id="line-337" data-line="337"></a>  							durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"validateProcessCageCard : Empty input for mandatory field : "</span> + key).c_str());
<a class="line-num" href="#line-338" id="line-338" data-line="338"></a>  						}
<a class="line-num" href="#line-339" id="line-339" data-line="339"></a>  						rep = (<span class="hljs-string">"&lt;"</span> + key + <span class="hljs-string">"&gt;"</span> + it-&gt;second + <span class="hljs-string">"&lt;/"</span> + key + <span class="hljs-string">"&gt;"</span>);
<a class="line-num" href="#line-340" id="line-340" data-line="340"></a>  					}
<a class="line-num" href="#line-341" id="line-341" data-line="341"></a>  					<span class="hljs-keyword">else</span> {	
<a class="line-num" href="#line-342" id="line-342" data-line="342"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>Field is empty but NOT Mandatory</p>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-343" id="line-343" data-line="343"></a>  						rep = (<span class="hljs-string">"&lt;"</span> + key + <span class="hljs-string">" /&gt;"</span>);
<a class="line-num" href="#line-344" id="line-344" data-line="344"></a>  					}
<a class="line-num" href="#line-345" id="line-345" data-line="345"></a>  					<span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> len = findstr.size();
<a class="line-num" href="#line-346" id="line-346" data-line="346"></a>  					(*validatexmlstr).replace(position, len, rep);
<a class="line-num" href="#line-347" id="line-347" data-line="347"></a>  				}
<a class="line-num" href="#line-348" id="line-348" data-line="348"></a>  			}
<a class="line-num" href="#line-349" id="line-349" data-line="349"></a>  			<span class="hljs-keyword">return</span> validatexmlstr;
<a class="line-num" href="#line-350" id="line-350" data-line="350"></a>  		}
<a class="line-num" href="#line-351" id="line-351" data-line="351"></a>  
<a class="line-num" href="#line-352" id="line-352" data-line="352"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : processCageCardAndCheckInResponse
Function Scope  : private
Input Parameter : None
Return Value    : boost::future of type STRING    -&gt; Raw Response
Description     : Receives SOAP Response</p>
<ol>
<li>Get response from Future and convert it to raw response using method getResponse()</li>
<li>Update Context with raw Response and log the same</li>
<li>Return the Raw Response
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-363" id="line-363" data-line="363"></a>  		<span class="hljs-built_in">std</span>::function&lt;<span class="hljs-built_in">string</span>(boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt;)&gt; processCageCardAndCheckInResponse() {
<a class="line-num" href="#line-364" id="line-364" data-line="364"></a>  			<span class="hljs-keyword">return</span> [&amp;](boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; fut)-&gt;<span class="hljs-built_in">string</span> {
<a class="line-num" href="#line-365" id="line-365" data-line="365"></a>  				<span class="hljs-keyword">auto</span> res = fut.get();
<a class="line-num" href="#line-366" id="line-366" data-line="366"></a>  				<span class="hljs-keyword">auto</span> raw = getResponse(res);
<a class="line-num" href="#line-367" id="line-367" data-line="367"></a>  				ctx-&gt;add(<span class="hljs-string">"processCageCardAndCheckInResponse"</span>, raw);
<a class="line-num" href="#line-368" id="line-368" data-line="368"></a>  				durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"processCageCardAndCheckInResponse :"</span> + raw).c_str());
<a class="line-num" href="#line-369" id="line-369" data-line="369"></a>  				<span class="hljs-keyword">return</span> raw;
<a class="line-num" href="#line-370" id="line-370" data-line="370"></a>  			};
<a class="line-num" href="#line-371" id="line-371" data-line="371"></a>  		}
<a class="line-num" href="#line-372" id="line-372" data-line="372"></a>  
<a class="line-num" href="#line-373" id="line-373" data-line="373"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : processCageCardXmlResponse
Function Scope  : private
Input Parameter : None
Return Value    : boost::future of type STRING    -&gt; Raw Response
Description     : Receives SOAP Response</p>
<ol>
<li>Get response from Future and convert it to raw response using method getResponse()</li>
<li>Update Context with raw Response and log the same</li>
<li>Return the Raw Response
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-384" id="line-384" data-line="384"></a>  		<span class="hljs-built_in">std</span>::function&lt;<span class="hljs-built_in">string</span>(boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt;)&gt; processCageCardXmlResponse() {
<a class="line-num" href="#line-385" id="line-385" data-line="385"></a>  			<span class="hljs-keyword">return</span> [&amp;](boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; fut)-&gt;<span class="hljs-built_in">string</span>{
<a class="line-num" href="#line-386" id="line-386" data-line="386"></a>  				<span class="hljs-keyword">auto</span> res = fut.get();
<a class="line-num" href="#line-387" id="line-387" data-line="387"></a>  				<span class="hljs-keyword">auto</span> raw = getResponse(res);
<a class="line-num" href="#line-388" id="line-388" data-line="388"></a>  				ctx-&gt;add(<span class="hljs-string">"processCageCardXmlResponse"</span>, raw);
<a class="line-num" href="#line-389" id="line-389" data-line="389"></a>  				durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"processCageCardXmlResponse :"</span> + raw).c_str());
<a class="line-num" href="#line-390" id="line-390" data-line="390"></a>  				<span class="hljs-keyword">return</span> raw;
<a class="line-num" href="#line-391" id="line-391" data-line="391"></a>  			};
<a class="line-num" href="#line-392" id="line-392" data-line="392"></a>  		}
<a class="line-num" href="#line-393" id="line-393" data-line="393"></a>  
<a class="line-num" href="#line-394" id="line-394" data-line="394"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : ValidateprocessCageCardAndCheckInResponse
Function Scope  : private
Input Parameter : const string BarCode                  -&gt; BarCode which is send as part of SOAP message
Return Value    : boost::future of type STRING          -&gt; Raw Response
Description     : Validate the response using BarCode</p>
<ol>
<li>Validate that the response contains same BarCode which is passed as input field</li>
<li>Check for other Issued response in function &quot;checkResponseForError()&quot;</li>
<li>If Barcode not found or Issue is found, then log a message &quot;Reponse is Invalid&quot;</li>
<li>Return Raw Response
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-406" id="line-406" data-line="406"></a>  		<span class="hljs-built_in">std</span>::function&lt;<span class="hljs-built_in">string</span>(boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt;)&gt; validateprocessCageCardAndCheckInResponse(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> BarCode) {
<a class="line-num" href="#line-407" id="line-407" data-line="407"></a>  			<span class="hljs-keyword">return</span> [&amp;, BarCode](boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; fut)-&gt;<span class="hljs-built_in">string</span> {
<a class="line-num" href="#line-408" id="line-408" data-line="408"></a>  				<span class="hljs-keyword">auto</span> res = <span class="hljs-built_in">string</span>(fut.get());
<a class="line-num" href="#line-409" id="line-409" data-line="409"></a>  				<span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> position = res.find(BarCode);
<a class="line-num" href="#line-410" id="line-410" data-line="410"></a>  				<span class="hljs-keyword">int</span> isError = checkResponseForError(res);
<a class="line-num" href="#line-411" id="line-411" data-line="411"></a>  				<span class="hljs-keyword">if</span> (position == <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>::npos || isError) {
<a class="line-num" href="#line-412" id="line-412" data-line="412"></a>  					durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"ValidateprocessCageCardAndCheckInResponse : Check In Process Failed"</span>));
<a class="line-num" href="#line-413" id="line-413" data-line="413"></a>  				}
<a class="line-num" href="#line-414" id="line-414" data-line="414"></a>  				<span class="hljs-keyword">return</span> res;
<a class="line-num" href="#line-415" id="line-415" data-line="415"></a>  			};
<a class="line-num" href="#line-416" id="line-416" data-line="416"></a>  		}
<a class="line-num" href="#line-417" id="line-417" data-line="417"></a>  
<a class="line-num" href="#line-418" id="line-418" data-line="418"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : checkResponseForError
Function Scope  : private
Input Parameter : string raw -&gt; Raw Response
Return Value    : int        -&gt; 0 or 1, 0 means No Error, 1 means Error
Description     : parse the Raw Response and check for failure options</p>
<ol>
<li>Receives Raw Response as input</li>
<li>Using pre-defined issue responses are checked against raw response.</li>
<li>If any error found in response, then return 1 else 0
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-429" id="line-429" data-line="429"></a>  		<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">checkResponseForError</span><span class="hljs-params">(<span class="hljs-built_in">string</span>&amp; raw)</span> </span>{
<a class="line-num" href="#line-430" id="line-430" data-line="430"></a>  			<span class="hljs-keyword">int</span> hasError = <span class="hljs-number">0</span>;
<a class="line-num" href="#line-431" id="line-431" data-line="431"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> position;
<a class="line-num" href="#line-432" id="line-432" data-line="432"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; resError{
<a class="line-num" href="#line-433" id="line-433" data-line="433"></a>  											<span class="hljs-string">"XML Validation Failed"</span>,
<a class="line-num" href="#line-434" id="line-434" data-line="434"></a>  											<span class="hljs-string">"Error in Processing XML"</span>,
<a class="line-num" href="#line-435" id="line-435" data-line="435"></a>  											<span class="hljs-string">"Quantity should not be more"</span>,
<a class="line-num" href="#line-436" id="line-436" data-line="436"></a>  											<span class="hljs-string">"Printer is busy"</span>,
<a class="line-num" href="#line-437" id="line-437" data-line="437"></a>  											<span class="hljs-string">"Error in Connecting Printer"</span>,
<a class="line-num" href="#line-438" id="line-438" data-line="438"></a>  											<span class="hljs-string">"not Valid for"</span>,
<a class="line-num" href="#line-439" id="line-439" data-line="439"></a>  											<span class="hljs-string">"invalid"</span>,
<a class="line-num" href="#line-440" id="line-440" data-line="440"></a>  											<span class="hljs-string">"already checked out"</span>,
<a class="line-num" href="#line-441" id="line-441" data-line="441"></a>  											<span class="hljs-string">"Error while printing and checking in"</span>,
<a class="line-num" href="#line-442" id="line-442" data-line="442"></a>  											<span class="hljs-string">"check in is not successful"</span>
<a class="line-num" href="#line-443" id="line-443" data-line="443"></a>  										};
<a class="line-num" href="#line-444" id="line-444" data-line="444"></a>  			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it : resError) {
<a class="line-num" href="#line-445" id="line-445" data-line="445"></a>  				position = raw.find(it.c_str());
<a class="line-num" href="#line-446" id="line-446" data-line="446"></a>  				<span class="hljs-keyword">if</span> (position != <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>::npos) {
<a class="line-num" href="#line-447" id="line-447" data-line="447"></a>  					hasError = <span class="hljs-number">1</span>;
<a class="line-num" href="#line-448" id="line-448" data-line="448"></a>  					<span class="hljs-keyword">break</span>;
<a class="line-num" href="#line-449" id="line-449" data-line="449"></a>  				}
<a class="line-num" href="#line-450" id="line-450" data-line="450"></a>  			}
<a class="line-num" href="#line-451" id="line-451" data-line="451"></a>  			<span class="hljs-keyword">return</span> hasError;
<a class="line-num" href="#line-452" id="line-452" data-line="452"></a>  		}
<a class="line-num" href="#line-453" id="line-453" data-line="453"></a>  
<a class="line-num" href="#line-454" id="line-454" data-line="454"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : ValidateprocessCageCardXmlResponse
Function Scope  : private
Input Parameter : None
Return Value    : boost::future of type STRING          -&gt; Raw Response
Description     : Validate the response</p>
<ol>
<li>Check for reponse keyword &quot;ProcessCageCardXmlResult&quot;, which should present in normal case</li>
<li>Return Raw Response
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-464" id="line-464" data-line="464"></a>  		<span class="hljs-built_in">std</span>::function&lt;<span class="hljs-built_in">string</span>(boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt;)&gt; validateprocessCageCardXmlResponse() {
<a class="line-num" href="#line-465" id="line-465" data-line="465"></a>  			<span class="hljs-keyword">return</span> [&amp;](boost::future&lt;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>&gt; fut)-&gt;<span class="hljs-built_in">string</span>{
<a class="line-num" href="#line-466" id="line-466" data-line="466"></a>  				<span class="hljs-keyword">auto</span> res = <span class="hljs-built_in">string</span>(fut.get());
<a class="line-num" href="#line-467" id="line-467" data-line="467"></a>  				<span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> position = res.find(<span class="hljs-string">"ProcessCageCardXmlResult"</span>);
<a class="line-num" href="#line-468" id="line-468" data-line="468"></a>  				<span class="hljs-keyword">if</span> (position == <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span>::npos) {
<a class="line-num" href="#line-469" id="line-469" data-line="469"></a>  					durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"ValidateprocessCageCardXmlResponse : Check In Process Failed"</span>));
<a class="line-num" href="#line-470" id="line-470" data-line="470"></a>  				}
<a class="line-num" href="#line-471" id="line-471" data-line="471"></a>  				<span class="hljs-keyword">return</span> res;
<a class="line-num" href="#line-472" id="line-472" data-line="472"></a>  			};
<a class="line-num" href="#line-473" id="line-473" data-line="473"></a>  		}
<a class="line-num" href="#line-474" id="line-474" data-line="474"></a>  
<a class="line-num" href="#line-475" id="line-475" data-line="475"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : getProcessCageCardAndCheckInResult
Function Scope  : private
Input Parameter : string raw -&gt; Raw Response
Return Value    : string     -&gt; Extracted ProcessCageCardAndCheckInResult
Description     : parse the Raw Response and extract only ProcessCageCardAndCheckInResult</p>
<ol>
<li>Receives Raw Response as input</li>
<li>Using rapidjson parse the Raw Response</li>
<li>Retrive ProcessCageCardAndCheckInResult and return the same, log and store to Context
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-486" id="line-486" data-line="486"></a>  		<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">getProcessCageCardAndCheckInResult</span><span class="hljs-params">(<span class="hljs-built_in">string</span> raw)</span> </span>{
<a class="line-num" href="#line-487" id="line-487" data-line="487"></a>  			rapidjson::Document d;
<a class="line-num" href="#line-488" id="line-488" data-line="488"></a>  			d.Parse(raw.c_str());
<a class="line-num" href="#line-489" id="line-489" data-line="489"></a>  			<span class="hljs-keyword">auto</span> res = (<span class="hljs-built_in">string</span>)d[<span class="hljs-string">"Envelope"</span>][<span class="hljs-string">"Body"</span>][<span class="hljs-string">"ProcessCageCardAndCheckInResponse"</span>][<span class="hljs-string">"ProcessCageCardAndCheckInResult"</span>].GetString();
<a class="line-num" href="#line-490" id="line-490" data-line="490"></a>  			ctx-&gt;add(<span class="hljs-string">"ProcessCageCardAndCheckInResult"</span>, res);
<a class="line-num" href="#line-491" id="line-491" data-line="491"></a>  			durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"ProcessCageCardAndCheckInResult:"</span> + res).c_str());
<a class="line-num" href="#line-492" id="line-492" data-line="492"></a>  			<span class="hljs-keyword">return</span> res;
<a class="line-num" href="#line-493" id="line-493" data-line="493"></a>  		}
<a class="line-num" href="#line-494" id="line-494" data-line="494"></a>  
<a class="line-num" href="#line-495" id="line-495" data-line="495"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : getProcessCageCardXmlResult
Function Scope  : private
Input Parameter : string raw -&gt; Raw Response
Return Value    : string     -&gt; Extracted ProcessCageCardXmlResult
Description     : parse the Raw Response and extract only ProcessCageCardXmlResult</p>
<ol>
<li>Receives Raw Response as input</li>
<li>Using rapidjson parse the Raw Response</li>
<li>Retrive ProcessCageCardXmlResult and return the same, log and store to Context
****************************** End of Function Header **********************</li>
</ol>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-506" id="line-506" data-line="506"></a>  		<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">getProcessCageCardXmlResult</span><span class="hljs-params">(<span class="hljs-built_in">string</span> raw)</span> </span>{
<a class="line-num" href="#line-507" id="line-507" data-line="507"></a>  			rapidjson::Document d;
<a class="line-num" href="#line-508" id="line-508" data-line="508"></a>  			d.Parse(raw.c_str());
<a class="line-num" href="#line-509" id="line-509" data-line="509"></a>  			<span class="hljs-keyword">auto</span> res = (<span class="hljs-built_in">string</span>)d[<span class="hljs-string">"Envelope"</span>][<span class="hljs-string">"Body"</span>][<span class="hljs-string">"ProcessCageCardXmlResponse"</span>][<span class="hljs-string">"ProcessCageCardXmlResult"</span>].GetString();
<a class="line-num" href="#line-510" id="line-510" data-line="510"></a>  			ctx-&gt;add(<span class="hljs-string">"ProcessCageCardXmlResult"</span>, res);
<a class="line-num" href="#line-511" id="line-511" data-line="511"></a>  			durian::addToLog(MODULE, ctx, (<span class="hljs-keyword">char</span>*)(<span class="hljs-string">"ProcessCageCardXmlResult:"</span> + res).c_str());
<a class="line-num" href="#line-512" id="line-512" data-line="512"></a>  			<span class="hljs-keyword">return</span> res;
<a class="line-num" href="#line-513" id="line-513" data-line="513"></a>  		}
<a class="line-num" href="#line-514" id="line-514" data-line="514"></a>  
<a class="line-num" href="#line-515" id="line-515" data-line="515"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : currentDate
Function Scope  : private
Input Parameter : None
Return Value    : string     -&gt; Current Date in format YYYY-MM-DD
Description     : Using time library current date is calculated and returned
****************************** End of Function Header **********************</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-523" id="line-523" data-line="523"></a>  		<span class="hljs-keyword">const</span> <span class="hljs-built_in">std</span>::<span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">currentDate</span><span class="hljs-params">()</span> </span>{
<a class="line-num" href="#line-524" id="line-524" data-line="524"></a>  			<span class="hljs-keyword">time_t</span>     now = time(<span class="hljs-number">0</span>);
<a class="line-num" href="#line-525" id="line-525" data-line="525"></a>  			<span class="hljs-keyword">struct</span> tm  tstruct;
<a class="line-num" href="#line-526" id="line-526" data-line="526"></a>  			<span class="hljs-keyword">char</span>       buf[<span class="hljs-number">80</span>];
<a class="line-num" href="#line-527" id="line-527" data-line="527"></a>  			tstruct = *localtime(&amp;now);
<a class="line-num" href="#line-528" id="line-528" data-line="528"></a>  			strftime(buf, <span class="hljs-keyword">sizeof</span>(buf), <span class="hljs-string">"%Y-%m-%d"</span>, &amp;tstruct);
<a class="line-num" href="#line-529" id="line-529" data-line="529"></a>  			<span class="hljs-keyword">return</span> buf;
<a class="line-num" href="#line-530" id="line-530" data-line="530"></a>  		}
<a class="line-num" href="#line-531" id="line-531" data-line="531"></a>  
<a class="line-num" href="#line-532" id="line-532" data-line="532"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : initializeAdditionalWhitelist
Function Scope  : private
Description     : Initialize additionalWhitelist variable
****************************** End of Function Header **********************</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-538" id="line-538" data-line="538"></a>  		<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initializeAdditionalWhitelist</span><span class="hljs-params">()</span> </span>{
<a class="line-num" href="#line-539" id="line-539" data-line="539"></a>  			<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; um = {
<a class="line-num" href="#line-540" id="line-540" data-line="540"></a>  												{ <span class="hljs-string">"ProcessCageCardAndCheckInResult"</span>, <span class="hljs-number">1</span> },
<a class="line-num" href="#line-541" id="line-541" data-line="541"></a>  												{ <span class="hljs-string">"ProcessCageCardXmlResult"</span>, <span class="hljs-number">1</span> }
<a class="line-num" href="#line-542" id="line-542" data-line="542"></a>  											};
<a class="line-num" href="#line-543" id="line-543" data-line="543"></a>  			additionalWhitelist = um;
<a class="line-num" href="#line-544" id="line-544" data-line="544"></a>  		}
<a class="line-num" href="#line-545" id="line-545" data-line="545"></a>  		
<a class="line-num" href="#line-546" id="line-546" data-line="546"></a>  </pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<div class="dox">
<div class="summary">
<p>*************************** Function Header ******************************
Class           : sensus::client
Function Name   : initializeCageCardRepositoryMandatory_map
Function Scope  : private
Description     : Initialize CageCardRepository Mandatory field variable with values
****************************** End of Function Header **********************</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="c"><a class="line-num" href="#line-552" id="line-552" data-line="552"></a>  		<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initializeCageCardRepositoryMandatory_map</span><span class="hljs-params">()</span> </span>{
<a class="line-num" href="#line-553" id="line-553" data-line="553"></a>  			<span class="hljs-built_in">std</span>::<span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; CageCardRepositoryMandatory = {
<a class="line-num" href="#line-554" id="line-554" data-line="554"></a>  																				{ <span class="hljs-string">"BarCode"</span>, <span class="hljs-string">""</span> },
<a class="line-num" href="#line-555" id="line-555" data-line="555"></a>  																				{ <span class="hljs-string">"PrincipalInvestigator"</span>, <span class="hljs-string">""</span> },
<a class="line-num" href="#line-556" id="line-556" data-line="556"></a>  																				{ <span class="hljs-string">"Protocol"</span>, <span class="hljs-string">""</span> },
<a class="line-num" href="#line-557" id="line-557" data-line="557"></a>  																				{ <span class="hljs-string">"Quantity"</span>, quantity },
<a class="line-num" href="#line-558" id="line-558" data-line="558"></a>  																				{ <span class="hljs-string">"CheckInDate"</span>, checkInDate },
<a class="line-num" href="#line-559" id="line-559" data-line="559"></a>  																				{ <span class="hljs-string">"PrinterIPAddress"</span>, printerId },
<a class="line-num" href="#line-560" id="line-560" data-line="560"></a>  																				{ <span class="hljs-string">"CardType"</span>, cardType }
<a class="line-num" href="#line-561" id="line-561" data-line="561"></a>  																			};
<a class="line-num" href="#line-562" id="line-562" data-line="562"></a>  			CageCardRepositoryMandatory_map = CageCardRepositoryMandatory;
<a class="line-num" href="#line-563" id="line-563" data-line="563"></a>  		}
<a class="line-num" href="#line-564" id="line-564" data-line="564"></a>  	};
<a class="line-num" href="#line-565" id="line-565" data-line="565"></a>  }
<a class="line-num" href="#line-566" id="line-566" data-line="566"></a>  </pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
